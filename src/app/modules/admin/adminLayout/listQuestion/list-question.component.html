<div class="listExam">
  <h3>Danh Sách Đề Thi</h3>
</div>
<!-- <div class="titleQuestion w-100">
  <div class="row">
    <div class="col-md-6">
      <h3>Danh Sách Đề Thi</h3>
    </div>
    <div class="col-md-6">
      <mat-form-field class="w-100">
        <mat-label>Đề</mat-label>
        <mat-select>
          <mat-option>
            Đề 1
          </mat-option>
          <mat-option>
            Đề 2
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div class="form-group">
        <select class="form-control" id="sel1">
          <option>Đề 1</option>
          <option>Đề 2</option>
        </select>
      </div>
    </div>
  </div>
</div> -->
<div class="row" style="margin-bottom: 15px">
  <div class="col-md-6">
    <!-- <input class="form-control" type="text" name="search" placeholder="Tìm Kiếm..."> -->
    <mat-form-field class="w-100">
      <input matInput type="text" name="search" placeholder="Tìm Kiếm...">
    </mat-form-field>
  </div>
  <div class="col-md-6 text-right ">
    <!--<button class="btn-action add" data-toggle="modal" data-target="#addSV"><i class="fa fa-plus"></i></button>-->
    <mat-form-field class="w-100">
      <mat-label>Đề Thi</mat-label>
      <mat-select>
        <mat-option value="Đề 1">
          Đề 1
        </mat-option>
        <mat-option value="Đề 2">
          Đề 2
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</div>
<div class="table-responsive">
  <table mat-table [dataSource]="dataSource" class="w-100">

    <!-- Name Column -->
    <ng-container matColumnDef="IdCauHoi">
      <th mat-header-cell *matHeaderCellDef class="text-center hidden">Câu Hỏi</th>
      <td mat-cell *matCellDef="let element" class="text-center hidden"> {{element.IdCauHoi}} </td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="LoaiCauHoi">
      <th mat-header-cell *matHeaderCellDef class="text-center hidden"> Loại Câu Hỏi </th>
      <td mat-cell *matCellDef="let element" class="text-center hidden">

        {{element.LoaiCauHoi}}

      </td>
    </ng-container>


    <!-- Weight Column -->
    <ng-container matColumnDef="NoiDungCauHoi">
      <th mat-header-cell *matHeaderCellDef class="text-center"> Nội Dung Câu Hỏi </th>
      <td mat-cell *matCellDef="let element" class="text-center">
        <div style="width: 150px; margin: auto;padding: 2%" *ngIf="element.LoaiCauHoi === 'Text'">
            {{element.NoiDungCauHoi}}
          </div>
        <div style="width: 150px; margin: auto;padding: 2%" *ngIf="element.LoaiCauHoi === 'HinhAnh'">
          <img [src]="element.NoiDungCauHoi" alt="" class="w-100 text-center">
        </div>
        <div style="width: 150px;height:  240; margin: auto;padding: 2%" *ngIf="element.LoaiCauHoi === 'Video'">
            <video width="150px" height="240" controls>
                <source [src]="element.NoiDungCauHoi" > 
              </video>
          <!-- <iframe class="w-100;h-100" src="https://www.youtube.com/embed/XSDb4xJPnHE" frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
        </div>
        <div style="margin: auto;padding: 2%" *ngIf="element.LoaiCauHoi === 'AmThanh'">
            <audio controls style="border:none;outline:none">
                <source [src]="element.NoiDungCauHoi"  type="audio/ogg">
                <!-- <source src="horse.mp3" type="audio/mpeg">
              Your browser does not support the audio element. -->
              </audio>
          </div>
      </td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="CauA">
      <th mat-header-cell *matHeaderCellDef class="text-center"> Câu A </th>
      <td mat-cell *matCellDef="let element" class="text-center" > 
          <p class="textTootip" [matTooltipPosition]="position.value"
          [matTooltip]="element.CauA">
          {{element.CauA}} 
          </p>
        </td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="CauB">
      <th mat-header-cell *matHeaderCellDef class="text-center"> Câu B </th>
      <td mat-cell *matCellDef="let element" class="text-center">
          <p class="textTootip" [matTooltipPosition]="position.value"
          [matTooltip]="element.CauB">
          {{element.CauB}} 
          </p>  
      </td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="CauC">
      <th mat-header-cell *matHeaderCellDef class="text-center"> Câu C </th>
      <td mat-cell *matCellDef="let element" class="text-center">
          <p class="textTootip" [matTooltipPosition]="position.value"
          [matTooltip]="element.CauC">
          {{element.CauC}} 
          </p>  
      </td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="CauD">
      <th mat-header-cell *matHeaderCellDef class="text-center"> Câu D </th>
      <td mat-cell *matCellDef="let element" class="text-center"> 
          <p class="textTootip" [matTooltipPosition]="position.value"
          [matTooltip]="element.CauD">
          {{element.CauD}} 
          </p>  
      </td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="DapAn">
      <th mat-header-cell *matHeaderCellDef class="text-center">Đáp Án</th>
      <td mat-cell *matCellDef="let element" class="text-center"> {{element.DapAn}} </td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="ThaoTac">
      <th mat-header-cell *matHeaderCellDef class="text-right">
        <button class="btnIcon buttonAdd" data-toggle="modal" data-target="#addQuestion"><i
            class="fa fa-plus"></i></button>
      </th>
      <td mat-cell *matCellDef="let element" class="text-right">
      
        <div class="d-flex">
          <button class="btnIcon buttonEdit mr-2" data-toggle="modal" data-target="#addQuestion">
            <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
          </button>
          <button class="btnIcon buttonDel">
            <i class="fa fa-trash-o" aria-hidden="true"></i>
          </button>
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayColumnResult"></tr>
    <tr mat-row *matRowDef="let row; columns: displayColumnResult;"></tr>
  </table>
  <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
</div>

<!--modal-->
<div class="modal fade " id="addQuestion">
  <div class="modal-dialog modal-width" style="z-index:30 !important">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header txtModal">
        <h4 class="modal-title txtTitleUsser">
          Câu Hỏi
        </h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body txtModal">
        <mat-form-field class="w-100">
          <mat-label>Loại Câu Hỏi</mat-label>
          <mat-select (selectionChange)="valueQuestion($event.value)">
            <mat-option *ngFor="let qu of loaiCauHoi" [value]="qu.viewValue">
              {{qu.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="w-100" *ngIf="displayQuestionText">
          <input matInput placeholder="Nội dung câu hỏi">
        </mat-form-field>
        <!-- <mat-form-field class="w-100" *ngIf="displayQuestionImage">
            <input matInput placeholder="Nội dung câu hỏi" type="file">
          </mat-form-field> -->
        <div class="w-100" *ngIf="displayQuestionImage" style="font-size: 1rem;
          color: #a1a;">
          <p>Vui lòng chọn file hình ảnh:<input placeholder="Nội dung câu hỏi" type="file"> </p>
        </div>
        <div class="w-100" *ngIf="displayQuestionVideo" style="font-size: 1rem;
          color: #a1a;">
          <p>Vui lòng chọn file video:<input placeholder="Nội dung câu hỏi" type="file"> </p>
        </div>
        <div class="w-100" *ngIf="displayQuestionAudio" style="font-size: 1rem;
        color: #a1a;">
          <p>Vui lòng chọn file âm thanh:<input placeholder="Nội dung câu hỏi" type="file"> </p>
        </div>
        <div class="noiDungDapAn" *ngIf="displayDapAn">
          <div class="row">
            <div class="col-md-12">
              <h5 style="margin-bottom:0px !important;font-size: 15px;font-weight: normal;">Nội dung đáp án:</h5>
            </div>
            <div class="col-md-6">
              <mat-form-field class="w-100">
                <input matInput placeholder="Câu A">
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <mat-form-field class="w-100">
                <input matInput placeholder="Câu B">
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <mat-form-field class="w-100">
                <input matInput placeholder="Câu C">
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <mat-form-field class="w-100">
                <input matInput placeholder="Câu D">
              </mat-form-field>
            </div>
          </div>
        </div>
        <mat-form-field class="w-100" *ngIf="displayDapAn">
          <mat-label>Đáp Án</mat-label>
          <mat-select (selectionChange)="valueDapAn($event.value)">
            <mat-option *ngFor="let qu of valueDapAn" [value]="qu.value">
              {{qu.value}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div class="buttonUser text-center pb-2">
          <button mat-raised-button color="primary" type="button">Thêm Câu Hỏi</button>
        </div>
      </div>

    </div>
  </div>
</div>
